(function(e){function t(t){for(var s,i,o=t[0],l=t[1],c=t[2],p=0,d=[];p<o.length;p++)i=o[p],r[i]&&d.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("64a9"),r=a.n(s);r.a},"30d6":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],i=(a("034f"),a("2877")),o={},l=Object(i["a"])(o,r,n,!1,null,null,null),c=l.exports,u=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("navbar"),a("h1",[e._v(e._s(e.user.username)+"'s Dashboard")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("button",{on:{click:function(t){e.hideForm=!e.hideForm}}},[e._v("Create New Vault")]),e.hideForm?a("form",{on:{submit:function(t){t.preventDefault(),e.createVault(),e.hideForm=!e.hideForm}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.name,expression:"newVault.name"}],attrs:{type:"text",placeholder:"New Vault Name"},domProps:{value:e.newVault.name},on:{input:function(t){t.target.composing||e.$set(e.newVault,"name",t.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],attrs:{type:"text",placeholder:"New Vault Description"},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}}),a("br"),a("button",{staticClass:"btn btn-info"},[e._v("Create")])]):e._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"offset-1 col-10"},e._l(e.vaults,function(t){return a("div",{attrs:{vault:t}},[a("div",{staticClass:"jumbotron"},[a("h1",{staticClass:"display-12"},[e._v(e._s(t.name))]),a("p",{staticClass:"lead"},[e._v(e._s(t.description))]),a("hr",{staticClass:"my-12"}),a("a",{staticClass:"btn btn-primary",attrs:{href:"#",role:"button"},on:{click:function(a){e.goToVault(t.id)}}},[e._v("View Vault")]),a("br"),a("br"),a("p",[a("button",{staticClass:"btn btn-danger",on:{click:function(a){e.deleteVault(t.id)}}},[e._v("Delete")])])])])}))]),a("div",{staticClass:"row"},[a("h1",{staticClass:"col-12 text-center"},[e._v("All of your created keeps")]),a("div",{staticClass:"row"},e._l(e.userKeeps,function(t){return a("div",[a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:t.img,alt:"Image"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description)+"\n            ")]),a("a",{staticClass:"btn btn-danger",attrs:{href:"#"},on:{click:function(a){e.deleteKeep(t.id)}}},[e._v("Delete?")])])])])}))])],1)},d=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("a",{staticClass:"navbar-brand"},[e._v("Keepr")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavDropdown"}},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:{name:"home"}}},[e._v("Dashboard")]),a("span",{staticClass:"sr-only"},[e._v("(current)")])],1)]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("router-link",{attrs:{to:{name:"keeps"}}},[e._v("Explore")])],1)]),a("li",{staticClass:"nav-item"},[e.user.id?a("a",{staticClass:"nav-link",on:{click:e.logout}},[e._v("Logout")]):a("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)])])])])])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],h={name:"Navbar",methods:{logout(){this.$store.dispatch("logout")}},computed:{user(){return this.$store.state.user}}},g=h,w=(a("5dfc"),Object(i["a"])(g,m,v,!1,null,null,null)),f=w.exports,b={name:"home",data(){return{hideForm:!1,newVault:{name:"",description:""}}},mounted(){this.$store.dispatch("getVaults"),this.$store.dispatch("getUserKeeps")},computed:{user(){return this.$store.state.user},vaults(){return this.$store.state.vaults},userKeeps(){return this.$store.state.userKeeps},keeps(){return this.$store.state.keeps}},methods:{logout(){this.$store.dispatch("logout")},createVault(){this.$store.dispatch("createVault",this.newVault)},deleteVault(e){this.$store.dispatch("deleteVault",e)},goToVault(e){this.$store.dispatch("goToVault",e)},deleteKeep(e){this.$store.dispatch("deleteKeep",e)}},components:{Navbar:f}},_=b,y=Object(i["a"])(_,p,d,!1,null,null,null),C=y.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[e.loginForm?a("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.creds.email},on:{input:function(t){t.target.composing||e.$set(e.creds,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.creds.password},on:{input:function(t){t.target.composing||e.$set(e.creds,"password",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Login")])]):a("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],attrs:{type:"text",placeholder:"name"},domProps:{value:e.newUser.username},on:{input:function(t){t.target.composing||e.$set(e.newUser,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),a("button",{attrs:{type:"submit"}},[e._v("Create Account")])]),a("div",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e.loginForm?a("p",[e._v("No account Click to Register")]):a("p",[e._v("Already have an account click to Login")])]),a("all-keeps")],1)},$=[],V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("h1",[e._v("Welcome to Keepr. Where you can find and keep what interests you.")]),e._l(e.keeps,function(t){return a("div",[a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:t.img,alt:"Image"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description)+"\n        ")])])])])})],2)},k=[],x={name:"AllKeeps",methods:{},mounted(){this.$store.dispatch("getAllKeeps")},computed:{keeps(){return this.$store.state.keeps}}},P=x,U=Object(i["a"])(P,V,k,!1,null,null,null),N=U.exports,A={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:""}}},beforeCreate(){this.$store.state.user.id&&this.$router.push({name:"home"})},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}},components:{AllKeeps:N}},j=A,O=Object(i["a"])(j,K,$,!1,null,null,null),D=O.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("navbar"),a("div",{staticClass:"col-12"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.createKeep(t)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:e.newKeep.name},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"name",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description"},domProps:{value:e.newKeep.description},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"description",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.img,expression:"newKeep.img"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Image URL"},domProps:{value:e.newKeep.img},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"img",t.target.value)}}}),a("label",[e._v("Would you like this post to be private?")]),a("br"),a("label",{staticClass:"switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.isPrivate,expression:"newKeep.isPrivate"}],attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(e.newKeep.isPrivate)?e._i(e.newKeep.isPrivate,!0)>-1:e.newKeep.isPrivate},on:{change:function(t){var a=e.newKeep.isPrivate,s=t.target,r=!!s.checked;if(Array.isArray(a)){var n=!0,i=e._i(a,n);s.checked?i<0&&e.$set(e.newKeep,"isPrivate",a.concat([n])):i>-1&&e.$set(e.newKeep,"isPrivate",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.newKeep,"isPrivate",r)}}}),a("span",{staticClass:"slider round"})]),a("button",{staticClass:"btn btn-primary form-control",attrs:{type:"submit"}},[e._v("Create a Keep")])])])],1),a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"row"},e._l(e.keeps,function(t){return a("div",[a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:t.img,alt:"Image"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description)+"\n            ")]),a("form",{on:{submit:function(a){a.preventDefault(),e.addToVault(t.id)}}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected=t.target.multiple?a:a[0]}}},e._l(e.vaults,function(t){return a("option",{attrs:{placeholder:"Vaults"},domProps:{value:t.id}},[e._v(e._s(t.name))])})),a("br"),a("button",{staticClass:"btn btn-primary"},[e._v("Add To Vault")])]),e.user.id==t.userId?a("a",{staticClass:"btn btn-danger",on:{click:function(a){e.deleteKeep(t.id)}}},[e._v("Delete")]):a("a")])])])}))])])},E=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-12"},[a("h1",{staticClass:"text-center"},[e._v("Find new things that interest you!")])])}],F={name:"keeps",data(){return{newKeep:{name:"",description:"",img:"",isPrivate:!1},selected:""}},methods:{createKeep(){let e=this.newKeep;this.$store.dispatch("createKeep",e)},deleteKeep(e){this.$store.dispatch("deleteKeep",e)},addToVault(e){let t={vaultId:this.selected,keepId:e};this.$store.dispatch("addToVault",t)}},mounted(){this.$store.dispatch("getAllKeeps"),this.$store.dispatch("getVaults")},computed:{keeps(){return this.$store.state.keeps},user(){return this.$store.state.user},vaults(){return this.$store.state.vaults}},components:{Navbar:f}},S=F,T=(a("b868"),Object(i["a"])(S,I,E,!1,null,null,null)),L=T.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("navbar"),a("h1",[e._v(e._s(e.vault.name))]),e._l(e.vaultKeeps,function(t){return a("div",[a("div",{staticClass:"card",staticStyle:{width:"18rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:t.img,alt:"Image"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),a("p",{staticClass:"card-text"},[e._v(e._s(t.description)+"\n        ")]),a("a",{staticClass:"btn btn-danger",attrs:{href:"#"},on:{click:function(a){e.deleteVaultKeep(t.id)}}},[e._v("Remove?")])])])])})],2)},M=[],W={name:"vault",props:["vaultId"],computed:{vault(){return this.$store.state.vault},persist(){return this.$route.params.id},vaultKeeps(){return this.$store.state.vaultKeeps}},mounted(){this.$store.dispatch("getVaultKeeps",this.vaultId)},methods:{deleteVaultKeep(e){let t={keepId:e,vaultId:this.vaultId};this.$store.dispatch("deleteVaultKeep",t)}},components:{Navbar:f}},J=W,q=Object(i["a"])(J,R,M,!1,null,null,null),z=q.exports;s["a"].use(u["a"]);var B=new u["a"]({routes:[{path:"/",name:"home",component:C},{path:"/login",name:"login",component:D},{path:"/keeps",name:"keeps",component:L},{path:"/vault",name:"vault",props:!0,component:z}]}),G=a("2f62"),H=a("bc3a"),Q=a.n(H);let X=location.host.includes("localhost")?"//localhost:5000/":"/",Y=Q.a.create({baseURL:X+"account/",timeout:3e3,withCredentials:!0});class Z{static async Login(e){try{let a=await Y.post("login",e);return a.data}catch(t){throw new Error("[login failed] :"+t.response.data)}}static async Register(e){try{let a=await Y.post("register",e);return a.data}catch(t){throw new Error("[registration failed] :"+t.response.data)}}static async Logout(){try{await Y.delete("logout");return!0}catch(e){throw new Error("[logout failed] :"+e.response.data)}}static async Authenticate(){try{let t=await Y.get("authenticate");return t.data}catch(e){console.warn("[Authentication failed] :"+e.response.data)}}}s["a"].use(G["a"]);let ee=location.host.includes("localhost")?"//localhost:5000/":"/",te=Q.a.create({baseURL:ee+"api/",timeout:3e3,withCredentials:!0});var ae=new G["a"].Store({state:{user:{},keeps:[],vaults:[],vault:[],vaultKeeps:[],userKeeps:[]},mutations:{setUser(e,t){e.user=t},resetState(e){e.user={}},setKeeps(e,t){e.keeps=t},setVaults(e,t){e.vaults=t},setVault(e,t){e.vault=t},setVaultKeeps(e,t){e.vaultKeeps=t},setUserKeeps(e,t){e.userKeeps=t}},actions:{async register({commit:e,dispatch:t},a){try{let t=await Z.Register(a);e("setUser",t),B.push({name:"home"})}catch(s){console.warn(s.message)}},async login({commit:e,dispatch:t},a){try{let t=await Z.Login(a);e("setUser",t),B.push({name:"home"})}catch(s){console.warn(s.message)}},async logout({commit:e,dispatch:t}){try{await Z.Logout();e("resetState"),B.push({name:"login"})}catch(a){console.warn(a.message)}},async getAllKeeps({commit:e,dispatch:t}){await te.get("keeps").then(t=>{e("setKeeps",t.data)})},async createVault({commit:e,dispatch:t},a){await te.post("vaults",a).then(e=>{t("getVaults",e.data)})},async getVaults({commit:e,dispatch:t}){await te.get("vaults").then(t=>{e("setVaults",t.data)})},async deleteVault({commit:e,dispatch:t},a){await te.delete("vaults/"+a).then(e=>{t("getVaults",e.data)})},async createKeep({commit:e,dispatch:t},a){await te.post("keeps",a).then(e=>{t("getAllKeeps")})},async deleteKeep({commit:e,dispatch:t},a){await te.delete("keeps/"+a).then(e=>{t("getAllKeeps"),t("getUserKeeps")})},async addToVault({commit:e,dispatch:t},a){await te.post("vaultkeeps",a).then(e=>{t("getAllKeeps")})},async goToVault({commit:e,dispatch:t},a){await te.get("vaults/"+a).then(t=>{e("setVault",t.data),B.push({name:"vault",params:{vaultId:a}})})},async getVaultKeeps({commit:e,dispatch:t},a){await te.get("vaultkeeps/"+a).then(t=>{e("setVaultKeeps",t.data)})},async getUserKeeps({commit:e,dispatch:t}){await te.get("keeps/user").then(a=>{t("getAllKeeps"),e("setUserKeeps",a.data)})},async deleteVaultKeep({commit:e,dispatch:t},a){await te.put("vaultkeeps",a).then(e=>{t("getVaultKeeps",a.vaultId)})}}});async function se(){let e=await Z.Authenticate();e&&ae.commit("setUser",e),new s["a"]({router:B,store:ae,render:e=>e(c)}).$mount("#app")}se()},"5dfc":function(e,t,a){"use strict";var s=a("30d6"),r=a.n(s);r.a},"64a9":function(e,t,a){},6793:function(e,t,a){},b868:function(e,t,a){"use strict";var s=a("6793"),r=a.n(s);r.a}});